# BM2 链表内指定区间反转

## Solution

```javascript
/*
 * function ListNode(x){
 *   this.val = x;
 *   this.next = null;
 * }
 */

/**
 *
 * @param head ListNode类
 * @param m int整型
 * @param n int整型
 * @return ListNode类
 */
function reverseBetween(head, m, n) {
    // write code here
    let dummyHead = new ListNode(-1); // 添加虚拟头结点
    dummyHead.next = head;
    let pre = dummyHead; // m结点前
    for (let i = 1; i < m; i++) {
        pre = pre.next;
    }
    let after = pre; // n结点后
    for (let i = m; i <= n + 1; i++) {
        after = after.next;
    }

    let p1 = pre,
        p2 = pre.next,
        p3 = p2.next;
    p2.next = after; // 区间内第一个结点的next指向after
    [p1, p2] = [p2, p3];
    while (p2 !== after) {
        p3 = p2.next;
        p2.next = p1;
        [p1, p2] = [p2, p3];
    }
    pre.next = p1; // pre指向区间内最后以个结点
    return dummyHead.next; // 不是head
}
module.exports = {
    reverseBetween: reverseBetween,
};
```
